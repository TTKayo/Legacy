<!DOCTYPE html>
<!-- Created with https://studio.penguinmod.com/PenguinMod-Packager/ -->
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <!-- We only include this to explicitly loosen the CSP of various packager environments. It does not provide any security. -->
  <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: blob:">
  <title>Glitchet</title>
  <style>
    body {
      color: #ffffff;
      font-family: sans-serif;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    :root, body.is-fullscreen {
      background-color: #000000;
    }
    [hidden] {
      display: none !important;
    }
    h1 {
      font-weight: normal;
    }
    a {
      color: inherit;
      text-decoration: underline;
      cursor: pointer;
    }

    #app, #loading, #error, #launch {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      cursor: default;
      user-select: none;
      -webkit-user-select: none;
      background-color: #000000;
    }
    #launch {
      background-color: rgba(0, 0, 0, 0.7);
      cursor: pointer;
    }
    .green-flag {
      width: 80px;
      height: 80px;
      padding: 16px;
      border-radius: 100%;
      background: rgba(255, 255, 255, 0.75);
      border: 3px solid hsla(0, 100%, 100%, 1);
      display: flex;
      justify-content: center;
      align-items: center;
      box-sizing: border-box;
    }
    #loading {
      
    }
    .progress-bar-outer {
      border: 1px solid currentColor;
      height: 10px;
      width: 200px;
      max-width: 200px;
    }
    .progress-bar-inner {
      height: 100%;
      width: 0;
      background-color: currentColor;
    }
    .loading-text, noscript {
      font-weight: normal;
      font-size: 36px;
      margin: 0 0 16px;
    }
    .loading-image {
      margin: 0 0 16px;
    }
    #error-message, #error-stack {
      font-family: monospace;
      max-width: 600px;
      white-space: pre-wrap;
      user-select: text;
      -webkit-user-select: text;
    }
    #error-stack {
      text-align: left;
      max-height: 200px;
      overflow: auto;
    }
    .control-button {
      width: 2rem;
      height: 2rem;
      padding: 0.375rem;
      margin-top: 0.5rem;
      margin-bottom: 0.5rem;
      user-select: none;
      -webkit-user-select: none;
      cursor: pointer;
      border: 0;
      border-radius: 4px;
    }
    .control-button:hover {
      background: #00c3ff26;
    }
    .control-button.active {
      background: #00c3ff59;
    }
    .fullscreen-button {
      background: white !important;
    }
    .standalone-fullscreen-button {
      position: absolute;
      top: 0;
      right: 0;
      background-color: rgba(0, 0, 0, 0.5);
      border-radius: 0 0 0 4px;
      padding: 4px;
      cursor: pointer;
    }
    .sc-canvas {
      cursor: auto;
    }
    .sc-monitor-root[data-opcode^="data_"] .sc-monitor-value-color {
      background-color: #ff8c1a;
    }
    .sc-monitor-row-value-outer {
      background-color: #fc662c;
    }
    .sc-monitor-row-value-editing .sc-monitor-row-value-outer {
      background-color: #e25b27;
    }
    
  </style>
  <meta name="theme-color" content="#000000">
  
</head>
<body>
  <div id="app"></div>

  <div id="launch" class="screen" hidden title="Click to start">
    <div class="green-flag">
      <svg viewBox="0 0 16.63 17.5" width="42" height="44">
        <defs><style>.cls-1,.cls-2{fill:#007AF4;stroke:#003080;stroke-linecap:round;stroke-linejoin:round;}.cls-2{stroke-width:1.5px;}</style></defs>
        <path class="cls-1" d="M.75,2A6.44,6.44,0,0,1,8.44,2h0a6.44,6.44,0,0,0,7.69,0V12.4a6.44,6.44,0,0,1-7.69,0h0a6.44,6.44,0,0,0-7.69,0"/>
        <line class="cls-2" x1="0.75" y1="16.75" x2="0.75" y2="0.75"/>
      </svg>
    </div>
  </div>

  <div id="loading" class="screen">
    <noscript>Enable JavaScript</noscript>
    
    
    <div class="progress-bar-outer"><div class="progress-bar-inner" id="loading-inner"></div></div>
  </div>

  <div id="error" class="screen" hidden>
    <h1>Error</h1>
    <details>
      <summary id="error-message"></summary>
      <p id="error-stack"></p>
    </details>
  </div>

  <script>/*!
Parts of this script are from the PenguinMod Packager <https://studio.penguinmod.com/PenguinMod-Packager/>, licensed as follows:
Copyright (C) 2021-2022 Thomas Weber

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

Parts of this script are from Scratch <https://scratch.mit.edu/>, licensed as follows:
Copyright (c) 2016, Massachusetts Institute of Technology
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

!function(A){function e(e){for(var t,i,r=e[0],s=e[1],o=0,B=[];o<r.length;o++)i=r[o],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&B.push(n[i][0]),n[i]=0;for(t in s)Object.prototype.hasOwnProperty.call(s,t)&&(A[t]=s[t]);for(a&&a(e);B.length;)B.shift()()}var t={},n={0:0};function i(e){if(t[e])return t[e].exports;var n=t[e]={i:e,l:!1,exports:{}};return A[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(A){var e=[],t=n[A];if(0!==t)if(t)e.push(t[2]);else{var r=new Promise((function(e,i){t=n[A]=[e,i]}));e.push(t[2]=r);var s,o=document.createElement("script");o.charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.src=function(A){return i.p+"scaffolding/"+({1:"vendors~iframe-extension-worker"}[A]||A)+".js"}(A);var a=new Error;s=function(e){o.onerror=o.onload=null,clearTimeout(B);var t=n[A];if(0!==t){if(t){var i=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;a.message="Loading chunk "+A+" failed.\n("+i+": "+r+")",a.name="ChunkLoadError",a.type=i,a.request=r,t[1](a)}n[A]=void 0}};var B=setTimeout((function(){s({type:"timeout",target:o})}),12e4);o.onerror=o.onload=s,document.head.appendChild(o)}return Promise.all(e)},i.m=A,i.c=t,i.d=function(A,e,t){i.o(A,e)||Object.defineProperty(A,e,{enumerable:!0,get:t})},i.r=function(A){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},i.t=function(A,e){if(1&e&&(A=i(A)),8&e)return A;if(4&e&&"object"==typeof A&&A&&A.__esModule)return A;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:A}),2&e&&"string"!=typeof A)for(var n in A)i.d(t,n,function(e){return A[e]}.bind(null,n));return t},i.n=function(A){var e=A&&A.__esModule?function(){return A.default}:function(){return A};return i.d(e,"a",e),e},i.o=function(A,e){return Object.prototype.hasOwnProperty.call(A,e)},i.p="",i.oe=function(A){throw console.error(A),A};var r=window.webpackJsonp=window.webpackJsonp||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var o=0;o<r.length;o++)e(r[o]);var a=s;i(i.s=629)}([function(A,e,t){"use strict";t.r(e),t.d(e,"ACESFilmicToneMapping",(function(){return eA})),t.d(e,"AddEquation",(function(){return F})),t.d(e,"AddOperation",(function(){return Z})),t.d(e,"AdditiveAnimationBlendMode",(function(){return ye})),t.d(e,"AdditiveBlending",(function(){return I})),t.d(e,"AlphaFormat",(function(){return RA})),t.d(e,"AlwaysCompare",(function(){return Qt})),t.d(e,"AlwaysDepth",(function(){return j})),t.d(e,"AlwaysStencilFunc",(function(){return rt})),t.d(e,"AmbientLight",(function(){return YE})),t.d(e,"AmbientLightProbe",(function(){return LE})),t.d(e,"AnimationAction",(function(){return uQ})),t.d(e,"AnimationClip",(function(){return Zg})),t.d(e,"AnimationLoader",(function(){return rE})),t.d(e,"AnimationMixer",(function(){return wQ})),t.d(e,"AnimationObjectGroup",(function(){return lQ})),t.d(e,"AnimationUtils",(function(){return Hg})),t.d(e,"ArcCurve",(function(){return Ac})),t.d(e,"ArrayCamera",(function(){return ma})),t.d(e,"ArrowHelper",(function(){return ol})),t.d(e,"Audio",(function(){return eQ})),t.d(e,"AudioAnalyser",(function(){return oQ})),t.d(e,"AudioContext",(function(){return JE})),t.d(e,"AudioListener",(function(){return AQ})),t.d(e,"AudioLoader",(function(){return jE})),t.d(e,"AxesHelper",(function(){return al})),t.d(e,"BackSide",(function(){return u})),t.d(e,"BasicDepthPacking",(function(){return be})),t.d(e,"BasicShadowMap",(function(){return c})),t.d(e,"Bone",(function(){return uB})),t.d(e,"BooleanKeyframeTrack",(function(){return Lg})),t.d(e,"Box2",(function(){return UQ})),t.d(e,"Box3",(function(){return Fn})),t.d(e,"Box3Helper",(function(){return tl})),t.d(e,"BoxBufferGeometry",(function(){return cl})),t.d(e,"BoxGeometry",(function(){return Sr})),t.d(e,"BoxHelper",(function(){return el})),t.d(e,"BufferAttribute",(function(){return _i})),t.d(e,"BufferGeometry",(function(){return ur})),t.d(e,"BufferGeometryLoader",(function(){return RE})),t.d(e,"ByteType",(function(){return mA})),t.d(e,"Cache",(function(){return qg})),t.d(e,"Camera",(function(){return jr})),t.d(e,"CameraHelper",(function(){return qQ})),t.d(e,"CanvasTexture",(function(){return _B})),t.d(e,"CapsuleBufferGeometry",(function(){return gl})),t.d(e,"CapsuleGeometry",(function(){return Mc})),t.d(e,"CatmullRomCurve3",(function(){return sc})),t.d(e,"CineonToneMapping",(function(){return AA})),t.d(e,"CircleBufferGeometry",(function(){return El})),t.d(e,"CircleGeometry",(function(){return pc})),t.d(e,"ClampToEdgeWrapping",(function(){return cA})),t.d(e,"Clock",(function(){return KE})),t.d(e,"Color",(function(){return ji})),t.d(e,"ColorKeyframeTrack",(function(){return Pg})),t.d(e,"ColorManagement",(function(){return rn})),t.d(e,"CompressedArrayTexture",(function(){return ZB})),t.d(e,"CompressedTexture",(function(){return XB})),t.d(e,"CompressedTextureLoader",(function(){return sE})),t.d(e,"ConeBufferGeometry",(function(){return Ql})),t.d(e,"ConeGeometry",(function(){return Fc})),t.d(e,"CubeCamera",(function(){return Lr})),t.d(e,"CubeReflectionMapping",(function(){return iA})),t.d(e,"CubeRefractionMapping",(function(){return rA})),t.d(e,"CubeTexture",(function(){return Pr})),t.d(e,"CubeTextureLoader",(function(){return aE})),t.d(e,"CubeUVReflectionMapping",(function(){return aA})),t.d(e,"CubicBezierCurve",(function(){return cc})),t.d(e,"CubicBezierCurve3",(function(){return gc})),t.d(e,"CubicInterpolant",(function(){return vg})),t.d(e,"CullFaceBack",(function(){return o})),t.d(e,"CullFaceFront",(function(){return a})),t.d(e,"CullFaceFrontBack",(function(){return B})),t.d(e,"CullFaceNone",(function(){return s})),t.d(e,"Curve",(function(){return qB})),t.d(e,"CurvePath",(function(){return Cc})),t.d(e,"CustomBlending",(function(){return m})),t.d(e,"CustomToneMapping",(function(){return tA})),t.d(e,"CylinderBufferGeometry",(function(){return ll})),t.d(e,"CylinderGeometry",(function(){return mc})),t.d(e,"Cylindrical",(function(){return fQ})),t.d(e,"Data3DTexture",(function(){return wn})),t.d(e,"DataArrayTexture",(function(){return un})),t.d(e,"DataTexture",(function(){return hB})),t.d(e,"DataTextureLoader",(function(){return BE})),t.d(e,"DataUtils",(function(){return Ki})),t.d(e,"DecrementStencilOp",(function(){return Ke})),t.d(e,"DecrementWrapStencilOp",(function(){return Ze})),t.d(e,"DefaultLoadingManager",(function(){return AE})),t.d(e,"DepthFormat",(function(){return HA})),t.d(e,"DepthStencilFormat",(function(){return kA})),t.d(e,"DepthTexture",(function(){return fa})),t.d(e,"DirectionalLight",(function(){return DE})),t.d(e,"DirectionalLightHelper",(function(){return XQ})),t.d(e,"DiscreteInterpolant",(function(){return jg})),t.d(e,"DisplayP3ColorSpace",(function(){return Le})),t.d(e,"DodecahedronBufferGeometry",(function(){return ul})),t.d(e,"DodecahedronGeometry",(function(){return Yc})),t.d(e,"DoubleSide",(function(){return h})),t.d(e,"DstAlphaFactor",(function(){return S})),t.d(e,"DstColorFactor",(function(){return H})),t.d(e,"DynamicCopyUsage",(function(){return Mt})),t.d(e,"DynamicDrawUsage",(function(){return ut})),t.d(e,"DynamicReadUsage",(function(){return Ct})),t.d(e,"EdgesGeometry",(function(){return Tc})),t.d(e,"EllipseCurve",(function(){return $B})),t.d(e,"EqualCompare",(function(){return at})),t.d(e,"EqualDepth",(function(){return P})),t.d(e,"EqualStencilFunc",(function(){return At})),t.d(e,"EquirectangularReflectionMapping",(function(){return sA})),t.d(e,"EquirectangularRefractionMapping",(function(){return oA})),t.d(e,"Euler",(function(){return oi})),t.d(e,"EventDispatcher",(function(){return Nt})),t.d(e,"ExtrudeBufferGeometry",(function(){return hl})),t.d(e,"ExtrudeGeometry",(function(){return og})),t.d(e,"FileLoader",(function(){return iE})),t.d(e,"Float16BufferAttribute",(function(){return rr})),t.d(e,"Float32BufferAttribute",(function(){return sr})),t.d(e,"Float64BufferAttribute",(function(){return or})),t.d(e,"FloatType",(function(){return NA})),t.d(e,"Fog",(function(){return Sa})),t.d(e,"FogExp2",(function(){return Ga})),t.d(e,"FramebufferTexture",(function(){return KB})),t.d(e,"FrontSide",(function(){return l})),t.d(e,"Frustum",(function(){return qr})),t.d(e,"GLBufferAttribute",(function(){return pQ})),t.d(e,"GLSL1",(function(){return mt})),t.d(e,"GLSL3",(function(){return Ft})),t.d(e,"GreaterCompare",(function(){return ct})),t.d(e,"GreaterDepth",(function(){return V})),t.d(e,"GreaterEqualCompare",(function(){return Et})),t.d(e,"GreaterEqualDepth",(function(){return O})),t.d(e,"GreaterEqualStencilFunc",(function(){return it})),t.d(e,"GreaterStencilFunc",(function(){return tt})),t.d(e,"GridHelper",(function(){return PQ})),t.d(e,"Group",(function(){return Fa})),t.d(e,"HalfFloatType",(function(){return UA})),t.d(e,"HemisphereLight",(function(){return EE})),t.d(e,"HemisphereLightHelper",(function(){return LQ})),t.d(e,"HemisphereLightProbe",(function(){return zE})),t.d(e,"IcosahedronBufferGeometry",(function(){return wl})),t.d(e,"IcosahedronGeometry",(function(){return Bg})),t.d(e,"ImageBitmapLoader",(function(){return kE})),t.d(e,"ImageLoader",(function(){return oE})),t.d(e,"ImageUtils",(function(){return on})),t.d(e,"IncrementStencilOp",(function(){return We})),t.d(e,"IncrementWrapStencilOp",(function(){return Xe})),t.d(e,"InstancedBufferAttribute",(function(){return IB})),t.d(e,"InstancedBufferGeometry",(function(){return xE})),t.d(e,"InstancedInterleavedBuffer",(function(){return MQ})),t.d(e,"InstancedMesh",(function(){return NB})),t.d(e,"Int16BufferAttribute",(function(){return er})),t.d(e,"Int32BufferAttribute",(function(){return nr})),t.d(e,"Int8BufferAttribute",(function(){return qi})),t.d(e,"IntType",(function(){return YA})),t.d(e,"InterleavedBuffer",(function(){return Ha})),t.d(e,"InterleavedBufferAttribute",(function(){return va})),t.d(e,"Interpolant",(function(){return kg})),t.d(e,"InterpolateDiscrete",(function(){return me})),t.d(e,"InterpolateLinear",(function(){return Fe})),t.d(e,"InterpolateSmooth",(function(){return De})),t.d(e,"InvertStencilOp",(function(){return _e})),t.d(e,"KeepStencilOp",(function(){return Oe})),t.d(e,"KeyframeTrack",(function(){return zg})),t.d(e,"LOD",(function(){return iB})),t.d(e,"LatheBufferGeometry",(function(){return Cl})),t.d(e,"LatheGeometry",(function(){return Ic})),t.d(e,"Layers",(function(){return ai})),t.d(e,"LessCompare",(function(){return ot})),t.d(e,"LessDepth",(function(){return z})),t.d(e,"LessEqualCompare",(function(){return Bt})),t.d(e,"LessEqualDepth",(function(){return L})),t.d(e,"LessEqualStencilFunc",(function(){return et})),t.d(e,"LessStencilFunc",(function(){return $e})),t.d(e,"Light",(function(){return gE})),t.d(e,"LightProbe",(function(){return UE})),t.d(e,"Line",(function(){return SB})),t.d(e,"Line3",(function(){return xQ})),t.d(e,"LineBasicMaterial",(function(){return UB})),t.d(e,"LineCurve",(function(){return Ec})),t.d(e,"LineCurve3",(function(){return Qc})),t.d(e,"LineDashedMaterial",(function(){return yg})),t.d(e,"LineLoop",(function(){return vB})),t.d(e,"LineSegments",(function(){return kB})),t.d(e,"LinearEncoding",(function(){return Ge})),t.d(e,"LinearFilter",(function(){return wA})),t.d(e,"LinearInterpolant",(function(){return Jg})),t.d(e,"LinearMipMapLinearFilter",(function(){return MA})),t.d(e,"LinearMipMapNearestFilter",(function(){return dA})),t.d(e,"LinearMipmapLinearFilter",(function(){return IA})),t.d(e,"LinearMipmapNearestFilter",(function(){return CA})),t.d(e,"LinearSRGBColorSpace",(function(){return ze})),t.d(e,"LinearToneMapping",(function(){return q})),t.d(e,"Loader",(function(){return eE})),t.d(e,"LoaderUtils",(function(){return TE})),t.d(e,"LoadingManager",(function(){return $g})),t.d(e,"LoopOnce",(function(){return Ie})),t.d(e,"LoopPingPong",(function(){return pe})),t.d(e,"LoopRepeat",(function(){return Me})),t.d(e,"LuminanceAlphaFormat",(function(){return bA})),t.d(e,"LuminanceFormat",(function(){return SA})),t.d(e,"MOUSE",(function(){return i})),t.d(e,"Material",(function(){return bi})),t.d(e,"MaterialLoader",(function(){return yE})),t.d(e,"MathUtils",(function(){return zt})),t.d(e,"Matrix3",(function(){return Pt})),t.d(e,"Matrix4",(function(){return _n})),t.d(e,"MaxEquation",(function(){return N})),t.d(e,"Mesh",(function(){return Rr})),t.d(e,"MeshBasicMaterial",(function(){return Li})),t.d(e,"MeshDepthMaterial",(function(){return wa})),t.d(e,"MeshDistanceMaterial",(function(){return Ca})),t.d(e,"MeshLambertMaterial",(function(){return Ng})),t.d(e,"MeshMatcapMaterial",(function(){return Ug})),t.d(e,"MeshNormalMaterial",(function(){return fg})),t.d(e,"MeshPhongMaterial",(function(){return Dg})),t.d(e,"MeshPhysicalMaterial",(function(){return Fg})),t.d(e,"MeshStandardMaterial",(function(){return mg})),t.d(e,"MeshToonMaterial",(function(){return Yg})),t.d(e,"MinEquation",(function(){return f})),t.d(e,"MirroredRepeatWrapping",(function(){return gA})),t.d(e,"MixOperation",(function(){return X})),t.d(e,"MultiplyBlending",(function(){return p})),t.d(e,"MultiplyOperation",(function(){return K})),t.d(e,"NearestFilter",(function(){return EA})),t.d(e,"NearestMipMapLinearFilter",(function(){return hA})),t.d(e,"NearestMipMapNearestFilter",(function(){return lA})),t.d(e,"NearestMipmapLinearFilter",(function(){return uA})),t.d(e,"NearestMipmapNearestFilter",(function(){return QA})),t.d(e,"NeverCompare",(function(){return st})),t.d(e,"NeverDepth",(function(){return J})),t.d(e,"NeverStencilFunc",(function(){return qe})),t.d(e,"NoBlending",(function(){return C})),t.d(e,"NoColorSpace",(function(){return Je})),t.d(e,"NoToneMapping",(function(){return _})),t.d(e,"NormalAnimationBlendMode",(function(){return Ue})),t.d(e,"NormalBlending",(function(){return d})),t.d(e,"NotEqualCompare",(function(){return gt})),t.d(e,"NotEqualDepth",(function(){return W})),t.d(e,"NotEqualStencilFunc",(function(){return nt})),t.d(e,"NumberKeyframeTrack",(function(){return Og})),t.d(e,"Object3D",(function(){return pi})),t.d(e,"ObjectLoader",(function(){return GE})),t.d(e,"ObjectSpaceNormalMap",(function(){return ve})),t.d(e,"OctahedronBufferGeometry",(function(){return dl})),t.d(e,"OctahedronGeometry",(function(){return cg})),t.d(e,"OneFactor",(function(){return y})),t.d(e,"OneMinusDstAlphaFactor",(function(){return b})),t.d(e,"OneMinusDstColorFactor",(function(){return k})),t.d(e,"OneMinusSrcAlphaFactor",(function(){return G})),t.d(e,"OneMinusSrcColorFactor",(function(){return x})),t.d(e,"OrthographicCamera",(function(){return Es})),t.d(e,"PCFShadowMap",(function(){return g})),t.d(e,"PCFSoftShadowMap",(function(){return E})),t.d(e,"PMREMGenerator",(function(){return Is})),t.d(e,"Path",(function(){return dc})),t.d(e,"PerspectiveCamera",(function(){return zr})),t.d(e,"Plane",(function(){return Xr})),t.d(e,"PlaneBufferGeometry",(function(){return Il})),t.d(e,"PlaneGeometry",(function(){return es})),t.d(e,"PlaneHelper",(function(){return nl})),t.d(e,"PointLight",(function(){return mE})),t.d(e,"PointLightHelper",(function(){return vQ})),t.d(e,"Points",(function(){return OB})),t.d(e,"PointsMaterial",(function(){return JB})),t.d(e,"PolarGridHelper",(function(){return OQ})),t.d(e,"PolyhedronBufferGeometry",(function(){return Ml})),t.d(e,"PolyhedronGeometry",(function(){return Dc})),t.d(e,"PositionalAudio",(function(){return sQ})),t.d(e,"PropertyBinding",(function(){return QQ})),t.d(e,"PropertyMixer",(function(){return aQ})),t.d(e,"QuadraticBezierCurve",(function(){return lc})),t.d(e,"QuadraticBezierCurve3",(function(){return uc})),t.d(e,"Quaternion",(function(){return In})),t.d(e,"QuaternionKeyframeTrack",(function(){return Wg})),t.d(e,"QuaternionLinearInterpolant",(function(){return Vg})),t.d(e,"RED_GREEN_RGTC2_Format",(function(){return Ce})),t.d(e,"RED_RGTC1_Format",(function(){return he})),t.d(e,"REVISION",(function(){return n})),t.d(e,"RGBADepthPacking",(function(){return He})),t.d(e,"RGBAFormat",(function(){return GA})),t.d(e,"RGBAIntegerFormat",(function(){return LA})),t.d(e,"RGBA_ASTC_10x10_Format",(function(){return Ee})),t.d(e,"RGBA_ASTC_10x5_Format",(function(){return Be})),t.d(e,"RGBA_ASTC_10x6_Format",(function(){return ce})),t.d(e,"RGBA_ASTC_10x8_Format",(function(){return ge})),t.d(e,"RGBA_ASTC_12x10_Format",(function(){return Qe})),t.d(e,"RGBA_ASTC_12x12_Format",(function(){return le})),t.d(e,"RGBA_ASTC_4x4_Format",(function(){return ee})),t.d(e,"RGBA_ASTC_5x4_Format",(function(){return te})),t.d(e,"RGBA_ASTC_5x5_Format",(function(){return ne})),t.d(e,"RGBA_ASTC_6x5_Format",(function(){return ie})),t.d(e,"RGBA_ASTC_6x6_Format",(function(){return re})),t.d(e,"RGBA_ASTC_8x5_Format",(function(){return se})),t.d(e,"RGBA_ASTC_8x6_Format",(function(){return oe})),t.d(e,"RGBA_ASTC_8x8_Format",(function(){return ae})),t.d(e,"RGBA_BPTC_Format",(function(){return ue})),t.d(e,"RGBA_ETC2_EAC_Format",(function(){return Ae})),t.d(e,"RGBA_PVRTC_2BPPV1_Format",(function(){return _A})),t.d(e,"RGBA_PVRTC_4BPPV1_Format",(function(){return ZA})),t.d(e,"RGBA_S3TC_DXT1_Format",(function(){return OA})),t.d(e,"RGBA_S3TC_DXT3_Format",(function(){return VA})),t.d(e,"RGBA_S3TC_DXT5_Format",(function(){return WA})),t.d(e,"RGB_ETC1_Format",(function(){return qA})),t.d(e,"RGB_ETC2_Format",(function(){return $A})),t.d(e,"RGB_PVRTC_2BPPV1_Format",(function(){return XA})),t.d(e,"RGB_PVRTC_4BPPV1_Format",(function(){return KA})),t.d(e,"RGB_S3TC_DXT1_Format",(function(){return PA})),t.d(e,"RGFormat",(function(){return jA})),t.d(e,"RGIntegerFormat",(function(){return zA})),t.d(e,"RawShaderMaterial",(function(){return pg})),t.d(e,"Ray",(function(){return Zn})),t.d(e,"Raycaster",(function(){return mQ})),t.d(e,"RectAreaLight",(function(){return fE})),t.d(e,"RedFormat",(function(){return vA})),t.d(e,"RedIntegerFormat",(function(){return JA})),t.d(e,"ReinhardToneMapping",(function(){return $})),t.d(e,"RepeatWrapping",(function(){return BA})),t.d(e,"ReplaceStencilOp",(function(){return Ve})),t.d(e,"ReverseSubtractEquation",(function(){return Y})),t.d(e,"RingBufferGeometry",(function(){return pl})),t.d(e,"RingGeometry",(function(){return gg})),t.d(e,"SIGNED_RED_GREEN_RGTC2_Format",(function(){return de})),t.d(e,"SIGNED_RED_RGTC1_Format",(function(){return we})),t.d(e,"SRGBColorSpace",(function(){return je})),t.d(e,"Scene",(function(){return ba})),t.d(e,"ShaderChunk",(function(){return ts})),t.d(e,"ShaderLib",(function(){return is})),t.d(e,"ShaderMaterial",(function(){return Jr})),t.d(e,"ShadowMaterial",(function(){return Mg})),t.d(e,"Shape",(function(){return xc})),t.d(e,"ShapeBufferGeometry",(function(){return ml})),t.d(e,"ShapeGeometry",(function(){return Eg})),t.d(e,"ShapePath",(function(){return Bl})),t.d(e,"ShapeUtils",(function(){return ig})),t.d(e,"ShortType",(function(){return FA})),t.d(e,"Skeleton",(function(){return dB})),t.d(e,"SkeletonHelper",(function(){return kQ})),t.d(e,"SkinnedMesh",(function(){return lB})),t.d(e,"Source",(function(){return Bn})),t.d(e,"Sphere",(function(){return zn})),t.d(e,"SphereBufferGeometry",(function(){return Fl})),t.d(e,"SphereGeometry",(function(){return Qg})),t.d(e,"Spherical",(function(){return YQ})),t.d(e,"SphericalHarmonics3",(function(){return NE})),t.d(e,"SplineCurve",(function(){return hc})),t.d(e,"SpotLight",(function(){return CE})),t.d(e,"SpotLightHelper",(function(){return GQ})),t.d(e,"Sprite",(function(){return AB})),t.d(e,"SpriteMaterial",(function(){return Ja})),t.d(e,"SrcAlphaFactor",(function(){return R})),t.d(e,"SrcAlphaSaturateFactor",(function(){return v})),t.d(e,"SrcColorFactor",(function(){return T})),t.d(e,"StaticCopyUsage",(function(){return It})),t.d(e,"StaticDrawUsage",(function(){return lt})),t.d(e,"StaticReadUsage",(function(){return wt})),t.d(e,"StereoCamera",(function(){return WE})),t.d(e,"StreamCopyUsage",(function(){return pt})),t.d(e,"StreamDrawUsage",(function(){return ht})),t.d(e,"StreamReadUsage",(function(){return dt})),t.d(e,"StringKeyframeTrack",(function(){return Kg})),t.d(e,"SubtractEquation",(function(){return D})),t.d(e,"SubtractiveBlending",(function(){return M})),t.d(e,"TOUCH",(function(){return r})),t.d(e,"TangentSpaceNormalMap",(function(){return ke})),t.d(e,"TetrahedronBufferGeometry",(function(){return Dl})),t.d(e,"TetrahedronGeometry",(function(){return lg})),t.d(e,"Texture",(function(){return En})),t.d(e,"TextureLoader",(function(){return cE})),t.d(e,"TorusBufferGeometry",(function(){return Yl})),t.d(e,"TorusGeometry",(function(){return ug})),t.d(e,"TorusKnotBufferGeometry",(function(){return fl})),t.d(e,"TorusKnotGeometry",(function(){return hg})),t.d(e,"Triangle",(function(){return Gi})),t.d(e,"TriangleFanDrawMode",(function(){return Re})),t.d(e,"TriangleStripDrawMode",(function(){return xe})),t.d(e,"TrianglesDrawMode",(function(){return Te})),t.d(e,"TubeBufferGeometry",(function(){return Nl})),t.d(e,"TubeGeometry",(function(){return wg})),t.d(e,"TwoPassDoubleSide",(function(){return w})),t.d(e,"UVMapping",(function(){return nA})),t.d(e,"Uint16BufferAttribute",(function(){return tr})),t.d(e,"Uint32BufferAttribute",(function(){return ir})),t.d(e,"Uint8BufferAttribute",(function(){return $i})),t.d(e,"Uint8ClampedBufferAttribute",(function(){return Ar})),t.d(e,"Uniform",(function(){return CQ})),t.d(e,"UniformsGroup",(function(){return IQ})),t.d(e,"UniformsLib",(function(){return ns})),t.d(e,"UniformsUtils",(function(){return vr})),t.d(e,"UnsignedByteType",(function(){return pA})),t.d(e,"UnsignedInt248Type",(function(){return xA})),t.d(e,"UnsignedIntType",(function(){return fA})),t.d(e,"UnsignedShort4444Type",(function(){return yA})),t.d(e,"UnsignedShort5551Type",(function(){return TA})),t.d(e,"UnsignedShortType",(function(){return DA})),t.d(e,"VSMShadowMap",(function(){return Q})),t.d(e,"Vector2",(function(){return Lt})),t.d(e,"Vector3",(function(){return Mn})),t.d(e,"Vector4",(function(){return Qn})),t.d(e,"VectorKeyframeTrack",(function(){return Xg})),t.d(e,"VideoTexture",(function(){return WB})),t.d(e,"WebGL1Renderer",(function(){return Ra})),t.d(e,"WebGL3DRenderTarget",(function(){return Cn})),t.d(e,"WebGLArrayRenderTarget",(function(){return hn})),t.d(e,"WebGLCoordinateSystem",(function(){return Yt})),t.d(e,"WebGLCubeRenderTarget",(function(){return Or})),t.d(e,"WebGLMultipleRenderTargets",(function(){return dn})),t.d(e,"WebGLRenderTarget",(function(){return ln})),t.d(e,"WebGLRenderer",(function(){return xa})),t.d(e,"WebGLUtils",(function(){return pa})),t.d(e,"WebGPUCoordinateSystem",(function(){return ft})),t.d(e,"WireframeGeometry",(function(){return Cg})),t.d(e,"WrapAroundEnding",(function(){return Ne})),t.d(e,"ZeroCurvatureEnding",(function(){return Ye})),t.d(e,"ZeroFactor",(function(){return U})),t.d(e,"ZeroSlopeEnding",(function(){return fe})),t.d(e,"ZeroStencilOp",(function(){return Pe})),t.d(e,"_SRGBAFormat",(function(){return Dt})),t.d(e,"sRGBEncoding",(function(){return Se}));
/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
const n="153",i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},r={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},s=0,o=1,a=2,B=3,c=0,g=1,E=2,Q=3,l=0,u=1,h=2,w=2,C=0,d=1,I=2,M=3,p=4,m=5,F=100,D=101,Y=102,f=103,N=104,U=200,y=201,T=202,x=203,R=204,G=205,S=206,b=207,H=208,k=209,v=210,J=0,j=1,z=2,L=3,P=4,O=5,V=6,W=7,K=0,X=1,Z=2,_=0,q=1,$=2,AA=3,eA=4,tA=5,nA=300,iA=301,rA=302,sA=303,oA=304,aA=306,BA=1e3,cA=1001,gA=1002,EA=1003,QA=1004,lA=1004,uA=1005,hA=1005,wA=1006,CA=1007,dA=1007,IA=1008,MA=1008,pA=1009,mA=1010,FA=1011,DA=1012,YA=1013,fA=1014,NA=1015,UA=1016,yA=1017,TA=1018,xA=1020,RA=1021,GA=1023,SA=1024,bA=1025,HA=1026,kA=1027,vA=1028,JA=1029,jA=1030,zA=1031,LA=1033,PA=33776,OA=33777,VA=33778,WA=33779,KA=35840,XA=35841,ZA=35842,_A=35843,qA=36196,$A=37492,Ae=37496,ee=37808,te=37809,ne=37810,ie=37811,re=37812,se=37813,oe=37814,ae=37815,Be=37816,ce=37817,ge=37818,Ee=37819,Qe=37820,le=37821,ue=36492,he=36283,we=36284,Ce=36285,de=36286,Ie=2200,Me=2201,pe=2202,me=2300,Fe=2301,De=2302,Ye=2400,fe=2401,Ne=2402,Ue=2500,ye=2501,Te=0,xe=1,Re=2,Ge=3e3,Se=3001,be=3200,He=3201,ke=0,ve=1,Je="",je="srgb",ze="srgb-linear",Le="display-p3",Pe=0,Oe=7680,Ve=7681,We=7682,Ke=7683,Xe=34055,Ze=34056,_e=5386,qe=512,$e=513,At=514,et=515,tt=516,nt=517,it=518,rt=519,st=512,ot=513,at=514,Bt=515,ct=516,gt=517,Et=518,Qt=519,lt=35044,ut=35048,ht=35040,wt=35045,Ct=35049,dt=35041,It=35046,Mt=35050,pt=35042,mt="100",Ft="300 es",Dt=1035,Yt=2e3,ft=2001;class Nt{addEventListener(A,e){void 0===this._listeners&&(this._listeners={});const t=this._listeners;void 0===t[A]&&(t[A]=[]),-1===t[A].indexOf(e)&&t[A].push(e)}hasEventListener(A,e){if(void 0===this._listeners)return!1;const t=this._listeners;return void 0!==t[A]&&-1!==t[A].indexOf(e)}removeEventListener(A,e){if(void 0===this._listeners)return;const t=this._listeners[A];if(void 0!==t){const A=t.indexOf(e);-1!==A&&t.splice(A,1)}}dispatchEvent(A){if(void 0===this._listeners)return;const e=this._listeners[A.type];if(void 0!==e){A.target=this;const t=e.slice(0);for(let e=0,n=t.length;e<n;e++)t[e].call(this,A);A.target=null}}}const Ut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let yt=1234567;const Tt=Math.PI/180,xt=180/Math.PI;function Rt(){const A=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(Ut[255&A]+Ut[A>>8&255]+Ut[A>>16&255]+Ut[A>>24&255]+"-"+Ut[255&e]+Ut[e>>8&255]+"-"+Ut[e>>16&15|64]+Ut[e>>24&255]+"-"+Ut[63&t|128]+Ut[t>>8&255]+"-"+Ut[t>>16&255]+Ut[t>>24&255]+Ut[255&n]+Ut[n>>8&255]+Ut[n>>16&255]+Ut[n>>24&255]).toLowerCase()}function Gt(A,e,t){return Math.max(e,Math.min(t,A))}function St(A,e){return(A%e+e)%e}function bt(A,e,t){return(1-t)*A+t*e}function Ht(A){return 0==(A&A-1)&&0!==A}function kt(A){return Math.pow(2,Math.ceil(Math.log(A)/Math.LN2))}function vt(A){return Math.pow(2,Math.floor(Math.log(A)/Math.LN2))}function Jt(A,e){switch(e.constructor){case Float32Array:return A;case Uint32Array:return A/4294967295;case Uint16Array:return A/65535;case Uint8Array:return A/255;case Int32Array:return Math.max(A/2147483647,-1);case Int16Array:return Math.max(A/32767,-1);case Int8Array:return Math.max(A/127,-1);default:throw new Error("Invalid component type.")}}function jt(A,e){switch(e.constructor){case Float32Array:return A;case Uint32Array:return Math.round(4294967295*A);case Uint16Array:return Math.round(65535*A);case Uint8Array:return Math.round(255*A);case Int32Array:return Math.round(2147483647*A);case Int16Array:return Math.round(32767*A);case Int8Array:return Math.round(127*A);default:throw new Error("Invalid component type.")}}const zt={DEG2RAD:Tt,RAD2DEG:xt,generateUUID:Rt,clamp:Gt,euclideanModulo:St,mapLinear:function(A,e,t,n,i){return n+(A-e)*(i-n)/(t-e)},inverseLerp:function(A,e,t){return A!==e?(t-A)/(e-A):0},lerp:bt,damp:function(A,e,t,n){return bt(A,e,1-Math.exp(-t*n))},pingpong:function(A,e=1){return e-Math.abs(St(A,2*e)-e)},smoothstep:function(A,e,t){return A<=e?0:A>=t?1:(A=(A-e)/(t-e))*A*(3-2*A)},smootherstep:function(A,e,t){return A<=e?0:A>=t?1:(A=(A-e)/(t-e))*A*A*(A*(6*A-15)+10)},randInt:function(A,e){return A+Math.floor(Math.random()*(e-A+1))},randFloat:function(A,e){return A+Math.random()*(e-A)},randFloatSpread:function(A){return A*(.5-Math.random())},seededRandom:function(A){void 0!==A&&(yt=A);let e=yt+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296},degToRad:function(A){return A*Tt},radToDeg:function(A){return A*xt},isPowerOfTwo:Ht,ceilPowerOfTwo:kt,floorPowerOfTwo:vt,setQuaternionFromProperEuler:function(A,e,t,n,i){const r=Math.cos,s=Math.sin,o=r(t/2),a=s(t/2),B=r((e+n)/2),c=s((e+n)/2),g=r((e-n)/2),E=s((e-n)/2),Q=r((n-e)/2),l=s((n-e)/2);switch(i){case"XYX":A.set(o*c,a*g,a*E,o*B);break;case"YZY":A.set(a*E,o*c,a*g,o*B);break;case"ZXZ":A.set(a*g,a*E,o*c,o*B);break;case"XZX":A.set(o*c,a*l,a*Q,o*B);break;case"YXY":A.set(a*Q,o*c,a*l,o*B);break;case"ZYZ":A.set(a*l,a*Q,o*c,o*B);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:jt,denormalize:Jt};class Lt{constructor(A=0,e=0){Lt.prototype.isVector2=!0,this.x=A,this.y=e}get width(){return this.x}set width(A){this.x=A}get height(){return this.y}set height(A){this.y=A}set(A,e){return this.x=A,this.y=e,this}setScalar(A){return this.x=A,this.y=A,this}setX(A){return this.x=A,this}setY(A){return this.y=A,this}setComponent(A,e){switch(A){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+A)}return this}getComponent(A){switch(A){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+A)}}clone(){return new this.constructor(this.x,this.y)}copy(A){return this.x=A.x,this.y=A.y,this}add(A){return this.x+=A.x,this.y+=A.y,this}addScalar(A){return this.x+=A,this.y+=A,this}addVectors(A,e){return this.x=A.x+e.x,this.y=A.y+e.y,this}addScaledVector(A,e){return this.x+=A.x*e,this.y+=A.y*e,this}sub(A){return this.x-=A.x,this.y-=A.y,this}subScalar(A){return this.x-=A,this.y-=A,this}subVectors(A,e){return this.x=A.x-e.x,this.y=A.y-e.y,this}multiply(A){return this.x*=A.x,this.y*=A.y,this}multiplyScalar(A){return this.x*=A,this.y*=A,this}divide(A){return this.x/=A.x,this.y/=A.y,this}divideScalar(A){return this.multiplyScalar(1/A)}applyMatrix3(A){const e=this.x,t=this.y,n=A.elements;return this.x=n[0]*e+n[3]*t+n[6],this.y=n[1]*e+n[4]*t+n[7],this}min(A){return this.x=Math.min(this.x,A.x),this.y=Math.min(this.y,A.y),this}max(A){return this.x=Math.max(this.x,A.x),this.y=Math.max(this.y,A.y),this}clamp(A,e){return this.x=Math.max(A.x,Math.min(e.x,this.x)),this.y=Math.max(A.y,Math.min(e.y,this.y)),this}clampScalar(A,e){return this.x=Math.max(A,Math.min(e,this.x)),this.y=Math.max(A,Math.min(e,this.y)),this}clampLength(A,e){const t=this.length();return this.divideScalar(t||1).multiplyScalar(Math.max(A,Math.min(e,t)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(A){return this.x*A.x+this.y*A.y}cross(A){return this.x*A.y-this.y*A.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(A){const e=Math.sqrt(this.lengthSq()*A.lengthSq());if(0===e)return Math.PI/2;const t=this.dot(A)/e;return Math.acos(Gt(t,-1,1))}distanceTo(A){return Math.sqrt(this.distanceToSquared(A))}distanceToSquared(A){const e=this.x-A.x,t=this.y-A.y;return e*e+t*t}manhattanDistanceTo(A){return Math.abs(this.x-A.x)+Math.abs(this.y-A.y)}setLength(A){return this.normalize().multiplyScalar(A)}lerp(A,e){return this.x+=(A.x-this.x)*e,this.y+=(A.y-this.y)*e,this}lerpVectors(A,e,t){return this.x=A.x+(e.x-A.x)*t,this.y=A.y+(e.y-A.y)*t,this}equals(A){return A.x===this.x&&A.y===this.y}fromArray(A,e=0){return this.x=A[e],this.y=A[e+1],this}toArray(A=[],e=0){return A[e]=this.x,A[e+1]=this.y,A}fromBufferAttribute(A,e){return this.x=A.getX(e),this.y=A.getY(e),this}rotateAround(A,e){const t=Math.cos(e),n=Math.sin(e),i=this.x-A.x,r=this.y-A.y;return this.x=i*t-r*n+A.x,this.y=i*n+r*t+A.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Pt{constructor(A,e,t,n,i,r,s,o,a){Pt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==A&&this.set(A,e,t,n,i,r,s,o,a)}set(A,e,t,n,i,r,s,o,a){const B=this.elements;return B[0]=A,B[1]=n,B[2]=s,B[3]=e,B[4]=i,B[5]=o,B[6]=t,B[7]=r,B[8]=a,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(A){const e=this.elements,t=A.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],this}extractBasis(A,e,t){return A.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),t.setFromMatrix3Column(this,2),this}setFromMatrix4(A){const e=A.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(A){return this.multiplyMatrices(this,A)}premultiply(A){return this.multiplyMatrices(A,this)}multiplyMatrices(A,e){const t=A.elements,n=e.elements,i=this.elements,r=t[0],s=t[3],o=t[6],a=t[1],B=t[4],c=t[7],g=t[2],E=t[5],Q=t[8],l=n[0],u=n[3],h=n[6],w=n[1],C=n[4],d=n[7],I=n[2],M=n[5],p=n[8];return i[0]=r*l+s*w+o*I,i[3]=r*u+s*C+o*M,i[6]=r*h+s*d+o*p,i[1]=a*l+B*w+c*I,i[4]=a*u+B*C+c*M,i[7]=a*h+B*d+c*p,i[2]=g*l+E*w+Q*I,i[5]=g*u+E*C+Q*M,i[8]=g*h+E*d+Q*p,this}multiplyScalar(A){const e=this.elements;return e[0]*=A,e[3]*=A,e[6]*=A,e[1]*=A,e[4]*=A,e[7]*=A,e[2]*=A,e[5]*=A,e[8]*=A,this}determinant(){const A=this.elements,e=A[0],t=A[1],n=A[2],i=A[3],r=A[4],s=A[5],o=A[6],a=A[7],B=A[8];return e*r*B-e*s*a-t*i*B+t*s*o+n*i*a-n*r*o}invert(){const A=this.elements,e=A[0],t=A[1],n=A[2],i=A[3],r=A[4],s=A[5],o=A[6],a=A[7],B=A[8],c=B*r-s*a,g=s*o-B*i,E=a*i-r*o,Q=e*c+t*g+n*E;if(0===Q)return this.set(0,0,0,0,0,0,0,0,0);const l=1/Q;return A[0]=c*l,A[1]=(n*a-B*t)*l,A[2]=(s*t-n*r)*l,A[3]=g*l,A[4]=(B*e-n*o)*l,A[5]=(n*i-s*e)*l,A[6]=E*l,A[7]=(t*o-a*e)*l,A[8]=(r*e-t*i)*l,this}transpose(){let A;const e=this.elements;return A=e[1],e[1]=e[3],e[3]=A,A=e[2],e[2]=e[6],e[6]=A,A=e[5],e[5]=e[7],e[7]=A,this}getNormalMatrix(A){return this.setFromMatrix4(A).invert().transpose()}transposeIntoArray(A){const e=this.elements;return A[0]=e[0],A[1]=e[3],A[2]=e[6],A[3]=e[1],A[4]=e[4],A[5]=e[7],A[6]=e[2],A[7]=e[5],A[8]=e[8],this}setUvTransform(A,e,t,n,i,r,s){const o=Math.cos(i),a=Math.sin(i);return this.set(t*o,t*a,-t*(o*r+a*s)+r+A,-n*a,n*o,-n*(-a*r+o*s)+s+e,0,0,1),this}scale(A,e){return this.premultiply(Ot.makeScale(A,e)),this}rotate(A){return this.premultiply(Ot.makeRotation(-A)),this}translate(A,e){return this.premultiply(Ot.makeTranslation(A,e)),this}makeTranslation(A,e){return A.isVector2?this.set(1,0,A.x,0,1,A.y,0,0,1):this.set(1,0,A,0,1,e,0,0,1),this}makeRotation(A){const e=Math.cos(A),t=Math.sin(A);return this.set(e,-t,0,t,e,0,0,0,1),this}makeScale(A,e){return this.set(A,0,0,0,e,0,0,0,1),this}equals(A){const e=this.elements,t=A.elements;for(let A=0;A<9;A++)if(e[A]!==t[A])return!1;return!0}fromArray(A,e=0){for(let t=0;t<9;t++)this.elements[t]=A[t+e];return this}toArray(A=[],e=0){const t=this.elements;return A[e]=t[0],A[e+1]=t[1],A[e+2]=t[2],A[e+3]=t[3],A[e+4]=t[4],A[e+5]=t[5],A[e+6]=t[6],A[e+7]=t[7],A[e+8]=t[8],A}clone(){return(new this.constructor).fromArray(this.elements)}}const Ot=new Pt;function Vt(A){for(let e=A.length-1;e>=0;--e)if(A[e]>=65535)return!0;return!1}const Wt={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Kt(A,e){return new Wt[A](e)}function Xt(A){return document.createElementNS("http://www.w3.org/1999/xhtml",A)}const Zt={};function _t(A){A in Zt||(Zt[A]=!0,console.warn(A))}function qt(A){return A<.04045?.0773993808*A:Math.pow(.9478672986*A+.0521327014,2.4)}function $t(A){return A<.0031308?12.92*A:1.055*Math.pow(A,.41666)-.055}const An=(new Pt).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),en=(new Pt).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);const tn={[ze]:A=>A,[je]:A=>A.convertSRGBToLinear(),[Le]:function(A){return A.convertSRGBToLinear().applyMatrix3(en)}},nn={[ze]:A=>A,[je]:A=>A.convertLinearToSRGB(),[Le]:function(A){return A.applyMatrix3(An).convertLinearToSRGB()}},rn={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(A){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!A},get workingColorSpace(){return ze},set workingColorSpace(A){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(A,e,t){if(!1===this.enabled||e===t||!e||!t)return A;const n=tn[e],i=nn[t];if(void 0===n||void 0===i)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return i(n(A))},fromWorkingColorSpace:function(A,e){return this.convert(A,this.workingColorSpace,e)},toWorkingColorSpace:function(A,e){return this.convert(A,e,this.workingColorSpace)}};let sn;class on{static getDataURL(A){if(/^data:/i.test(A.src))return A.src;if("undefined"==typeof HTMLCanvasElement)return A.src;let e;if(A instanceof HTMLCanvasElement)e=A;else{void 0===sn&&(sn=Xt("canvas")),sn.width=A.width,sn.height=A.height;const t=sn.getContext("2d");A instanceof ImageData?t.putImageData(A,0,0):t.drawImage(A,0,0,A.width,A.height),e=sn}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",A),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(A){if("undefined"!=typeof HTMLImageElement&&A instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&A instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&A instanceof ImageBitmap){const e=Xt("canvas");e.width=A.width,e.height=A.height;const t=e.getContext("2d");t.drawImage(A,0,0,A.width,A.height);const n=t.getImageData(0,0,A.width,A.height),i=n.data;for(let A=0;A<i.length;A++)i[A]=255*qt(i[A]/255);return t.putImageData(n,0,0),e}if(A.data){const e=A.data.slice(0);for(let A=0;A<e.length;A++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[A]=Math.floor(255*qt(e[A]/255)):e[A]=qt(e[A]);return{data:e,width:A.width,height:A.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),A}}let an=0;class Bn{constructor(A=null){this.isSource=!0,Object.defineProperty(this,"id",{value:an++}),this.uuid=Rt(),this.data=A,this.version=0}set needsUpdate(A){!0===A&&this.version++}toJSON(A){const e=void 0===A||"string"==typeof A;if(!e&&void 0!==A.images[this.uuid])return A.images[this.uuid];const t={uuid:this.uuid,url:""},n=this.data;if(null!==n){let A;if(Array.isArray(n)){A=[];for(let e=0,t=n.length;e<t;e++)n[e].isDataTexture?A.push(cn(n[e].image)):A.push(cn(n[e]))}else A=cn(n);t.url=A}return e||(A.images[this.uuid]=t),t}}function cn(A){return"undefined"!=typeof HTMLImageElement&&A instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&A instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&A instanceof ImageBitmap?on.getDataURL(A):A.data?{data:Array.from(A.data),width:A.width,height:A.height,type:A.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let gn=0;class En extends Nt{constructor(A=En.DEFAULT_IMAGE,e=En.DEFAULT_MAPPING,t=cA,n=cA,i=wA,r=IA,s=GA,o=pA,a=En.DEFAULT_ANISOTROPY,B=Je){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:gn++}),this.uuid=Rt(),this.name="",this.source=new Bn(A),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=t,this.wrapT=n,this.magFilter=i,this.minFilter=r,this.anisotropy=a,this.format=s,this.internalFormat=null,this.type=o,this.offset=new Lt(0,0),this.repeat=new Lt(1,1),this.center=new Lt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Pt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof B?this.colorSpace=B:(_t("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=B===Se?je:Je),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(A=null){this.source.data=A}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(A){return this.name=A.name,this.source=A.source,this.mipmaps=A.mipmaps.slice(0),this.mapping=A.mapping,this.channel=A.channel,this.wrapS=A.wrapS,this.wrapT=A.wrapT,this.magFilter=A.magFilter,this.minFilter=A.minFilter,this.anisotropy=A.anisotropy,this.format=A.format,this.internalFormat=A.internalFormat,this.type=A.type,this.offset.copy(A.offset),this.repeat.copy(A.repeat),this.center.copy(A.center),this.rotation=A.rotation,this.matrixAutoUpdate=A.matrixAutoUpdate,this.matrix.copy(A.matrix),this.generateMipmaps=A.generateMipmaps,this.premultiplyAlpha=A.premultiplyAlpha,this.flipY=A.flipY,this.unpackAlignment=A.unpackAlignment,this.colorSpace=A.colorSpace,this.userData=JSON.parse(JSON.stringify(A.userData)),this.needsUpdate=!0,this}toJSON(A){const e=void 0===A||"string"==typeof A;if(!e&&void 0!==A.textures[this.uuid])return A.textures[this.uuid];const t={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(A).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(t.userData=this.userData),e||(A.textures[this.uuid]=t),t}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(A){if(this.mapping!==nA)return A;if(A.applyMatrix3(this.matrix),A.x<0||A.x>1)switch(this.wrapS){case BA:A.x=A.x-Math.floor(A.x);break;case cA:A.x=A.x<0?0:1;break;case gA:1===Math.abs(Math.floor(A.x)%2)?A.x=Math.ceil(A.x)-A.x:A.x=A.x-Math.floor(A.x)}if(A.y<0||A.y>1)switch(this.wrapT){case BA:A.y=A.y-Math.floor(A.y);break;case cA:A.y=A.y<0?0:1;break;case gA:1===Math.abs(Math.floor(A.y)%2)?A.y=Math.ceil(A.y)-A.y:A.y=A.y-Math.floor(A.y)}return this.flipY&&(A.y=1-A.y),A}set needsUpdate(A){!0===A&&(this.version++,this.source.needsUpdate=!0)}get encodin... (11 MB left)
